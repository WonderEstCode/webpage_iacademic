<script>
	import { onMount } from 'svelte';
	import gsap from 'gsap';

	let isMobile = false;

	onMount(() => {
		isMobile = window.innerWidth < 768;

		gsap.to('.shape-purple', {
			duration: 15,
			x: isMobile ? 'random(-10, 10)' : 'random(-31, 58)',
			y: isMobile ? 'random(-10, 10)' : 'random(-10, 40)',
			rotate: 'random(0, 360)',
			scale: 'random(1.1, 0.8 )',
			opacity: 'random(0.7, 1)',
			repeat: -1,
			yoyo: true,
			ease: 'power1.inOut'
		});

		// Animación para las figuras grises
		gsap.to('.shape-gray', {
			duration: 10,
			x: isMobile ? 'random(-20, 20)' : 'random(-70, 10)',
			y: isMobile ? 'random(-30, 30)' : 'random(-40, 90)',
			rotate: 'random(0, 360)',
			scale: 'random(0.85, 1.15)',
			opacity: 'random(0.9, 1)',
			yoyo: true,
			repeat: -1,
			ease: 'back.inOut(1.7)'
		});
	});
</script>

<div class="shapes-container">
	{#each Array(7).fill(0) as _, i}
		<svg
			class="shape shape-purple"
			viewBox="0 0 540 960"
			width="150"
			height="200"
			xmlns="http://www.w3.org/2000/svg"
		>
			<g transform="translate(100 100)">
				<path
					d="M58.9 -93.8C78.1 -90.9 96.6 -78.7 106.4 -61.5C116.1 -44.3 117.1 -22.2 114.8 -1.3C112.4 19.5 106.9 39 94.9 52.3C82.9 65.6 64.4 72.6 47.6 80.9C30.7 89.1 15.3 98.6 -1.6 101.3C-18.5 104 -37 100.1 -50.9 90.1C-64.7 80.1 -73.9 64 -82.8 48C-91.8 32 -100.4 16 -106 -3.2C-111.6 -22.5 -114.3 -45 -103.1 -57.2C-92 -69.4 -67.1 -71.2 -47.6 -74C-28.1 -76.7 -14.1 -80.4 2.9 -85.4C19.8 -90.4 39.7 -96.7 58.9 -93.8"
					fill="rgba(113, 93, 242, 0.5)"
				></path>
			</g>
		</svg>
	{/each}

	<svg
		class="shape-two shape-gray"
		viewBox="0 0 1700 1700"
		width="60"
		height="60"
		xmlns="http://www.w3.org/2000/svg"
	>
		<defs>
			<style>
				.cls-1 {
					fill: rgba(240, 240, 240, 0.5);
					stroke-width: 0px;
				}
			</style>
		</defs>
		<path
			class="cls-1"
			d="m447.32,851.97c-.18.09-.36.18-.54.28-10.74,5.45-13.04,19.81-4.26,28.05,2.68,2.52,5.47,4.94,8.35,7.25,8.19,6.57,20.31,4.37,25.67-4.66l.28-.48c4.46-7.51,2.48-17.01-4.32-22.5-2.01-1.62-3.96-3.32-5.84-5.07-5.23-4.88-12.97-6.13-19.34-2.87Z"
		/>
		<path
			class="cls-1"
			d="m525.29,648.2c1.51,3.93,2.85,7.9,4.04,11.91,1.4,4.72,5.74,7.95,10.67,7.94h0s0,0,0,0c4.92,0,9.26-3.22,10.67-7.94,1.19-4.01,2.54-7.98,4.04-11.9,2.73-7.12-2.3-14.91-9.93-15.16-3.18-.11-6.38-.11-9.56,0-7.63.25-12.67,8.03-9.94,15.16Z"
		/>
		<rect class="cls-1" x="522.45" y="803.82" width="35.1" height="95.97" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m253.87,695.06c-.2-.06-.39-.13-.59-.19-11.59-3.79-23.24,4.98-22.83,17.17.12,3.48.37,6.96.74,10.43,1.14,10.54,11.19,17.74,21.46,15.12l.55-.14c8.47-2.16,13.78-10.28,12.86-18.96-.27-2.57-.46-5.15-.54-7.72-.25-7.15-4.84-13.51-11.65-15.71Z"
		/>
		<path
			class="cls-1"
			d="m851.97,631.64c.09.18.19.36.28.54,5.45,10.74,19.81,13.04,28.05,4.26,2.52-2.68,4.94-5.47,7.25-8.35,6.57-8.19,4.37-20.31-4.66-25.67l-.48-.28c-7.51-4.46-17.01-2.48-22.5,4.32-1.62,2.01-3.32,3.96-5.07,5.84-4.88,5.23-6.13,12.97-2.87,19.34Z"
		/>
		<path
			class="cls-1"
			d="m227.65,447.33c-.09-.18-.19-.36-.28-.54-5.45-10.74-19.81-13.04-28.05-4.26-2.52,2.68-4.94,5.47-7.25,8.35-6.57,8.19-4.37,20.31,4.66,25.67l.48.28c7.51,4.46,17.01,2.48,22.5-4.32,1.62-2.01,3.32-3.96,5.07-5.84,4.88-5.23,6.13-12.97,2.87-19.34Z"
		/>
		<path
			class="cls-1"
			d="m449.91,612.91c-.21.43-.43.85-.65,1.28-3.23,6.29-1.96,13.98,2.91,19.11,66.66,70.16,8.9,189.31-86.93,181.1-8.64-.74-16.55,4.79-18.39,13.26l-.24,1.1c-2.2,10.11,5.11,19.73,15.42,20.54,41.24,3.25,82.94-11.89,112.23-41.48,55.76-54.39,53.98-145.45,3.03-199.25-8.07-8.52-22.12-6.15-27.39,4.33Z"
		/>
		<path
			class="cls-1"
			d="m289.08,742.93h60.88c9.69,0,17.55,7.86,17.55,17.55h0c0,9.69-7.86,17.55-17.55,17.55h-60.88c-9.69,0-17.55-7.86-17.55-17.55h0c0-9.69,7.86-17.55,17.55-17.55Z"
			transform="translate(-444.16 448.68) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m424.82,527.78c-.48.16-.95.31-1.43.47-6.74,2.17-11.28,8.5-11.46,15.57-2.44,96.8-127.55,140.21-189.53,66.64-5.58-6.63-15.09-8.31-22.38-3.62l-.91.58c-8.71,5.6-10.32,17.56-3.6,25.44,11.5,13.49,25.27,24.58,40.9,33.04,94.01,51.82,208.55-19.99,210.83-121.48.27-11.87-11.15-20.39-22.42-16.64Z"
		/>
		<rect class="cls-1" x="180.21" y="522.45" width="95.97" height="35.1" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m384.88,253.88c.07-.21.14-.42.21-.64,3.78-11.57-4.98-23.2-17.15-22.79-3.48.12-6.96.37-10.44.74-10.53,1.14-17.72,11.17-15.1,21.44l.15.59c2.15,8.46,10.26,13.77,18.94,12.84,2.57-.27,5.14-.46,7.7-.54,7.15-.25,13.49-4.84,15.69-11.64Z"
		/>
		<path
			class="cls-1"
			d="m388.31,515.24c30.65-3.04,60.13-16.71,82.67-37.77,8.72-8.15,6.62-22.36-4.05-27.71-.37-.18-.73-.37-1.1-.56-6.3-3.22-13.97-1.95-19.09,2.92-70.15,66.72-189.35,8.97-181.15-86.88.74-8.64-4.79-16.55-13.26-18.39l-1.44-.31c-10.01-2.17-19.57,4.96-20.52,15.16-8.07,85.8,71.77,165.44,157.95,153.54Z"
		/>
		<rect
			class="cls-1"
			x="301.97"
			y="271.53"
			width="35.1"
			height="95.97"
			rx="17.55"
			ry="17.55"
			transform="translate(-132.35 319.52) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m632.68,228.03c.18-.09.36-.18.54-.28,10.74-5.45,13.04-19.81,4.26-28.05-2.68-2.52-5.47-4.94-8.35-7.25-8.19-6.57-20.31-4.37-25.67,4.66l-.28.48c-4.46,7.51-2.48,17.01,4.32,22.5,2.01,1.62,3.96,3.32,5.84,5.07,5.23,4.88,12.98,6.13,19.35,2.87Z"
		/>
		<path
			class="cls-1"
			d="m434.03,284.25s.01,0,.02.01c2.16-11.82,6.36-23.29,12.37-33.69,0,0-.01,0-.02,0,5.99-10.51,13.81-19.93,22.94-27.85,6.72-5.83,8.4-15.57,3.59-23.05l-.21-.32c-5.69-8.85-17.87-10.8-25.97-4.08-72.13,59.88-63.43,185.02,20.01,231.53,20.34,12.29,44.11,19.24,68.03,20.16,12.19.47,20.98-11.26,17.19-22.86-.04-.11-.07-.23-.11-.34-2.23-6.87-8.65-11.5-15.87-11.68-63.08-1.62-115.29-64-101.97-127.82Z"
		/>
		<rect class="cls-1" x="522.45" y="180.21" width="35.1" height="95.98" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m630.06,467.05c.22-.43.43-.86.66-1.29,3.23-6.29,1.96-13.96-2.91-19.08-66.62-70.17-8.85-189.28,86.95-181.07,8.63.74,16.54-4.79,18.38-13.26l.24-1.11c2.19-10.11-5.11-19.72-15.42-20.53-41.24-3.25-82.95,11.89-112.23,41.48-55.75,54.38-53.98,145.42-3.06,199.21,8.07,8.53,22.13,6.15,27.39-4.34Z"
		/>
		<path
			class="cls-1"
			d="m826.13,384.94c.2.06.39.13.59.19,11.59,3.79,23.24-4.98,22.83-17.16-.12-3.48-.36-6.96-.74-10.43-1.14-10.54-11.19-17.74-21.46-15.13l-.55.14c-8.47,2.16-13.78,10.28-12.86,18.96.27,2.57.46,5.15.54,7.72.25,7.15,4.84,13.51,11.65,15.71Z"
		/>
		<path
			class="cls-1"
			d="m730.04,301.97h60.88c9.69,0,17.55,7.86,17.55,17.55h0c0,9.69-7.86,17.55-17.55,17.55h-60.88c-9.69,0-17.55-7.86-17.55-17.55h0c0-9.69,7.86-17.55,17.55-17.55Z"
			transform="translate(-3.19 631.33) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m655.01,552.28c.54-.18,1.08-.36,1.62-.53,6.73-2.16,11.26-8.48,11.44-15.55,2.38-97.05,127.69-140.13,189.56-66.65,5.57,6.62,15.06,8.3,22.34,3.62l.97-.62c8.69-5.59,10.3-17.52,3.6-25.39-11.51-13.51-25.28-24.61-40.93-33.07-93.23-52.09-209.01,20.25-210.96,121.62-.23,11.83,11.15,20.31,22.38,16.56Z"
		/>
		<rect class="cls-1" x="803.82" y="522.45" width="95.97" height="35.1" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m691.65,564.76c-65.27,5.75-121.15,61.63-126.89,126.9-12.25,88.07,70.69,168.04,157.68,157.54,10.64-1.28,17.77-11.58,15.13-21.97h0c-2.16-8.48-10.21-14.27-18.9-13.23-97.4,11.69-161.15-110.5-88.12-183.47,71.3-71.65,192.1-11.63,183.87,84.22-.75,8.75,5.3,16.65,13.88,18.51h0c10.44,2.27,20.48-5.17,21.41-15.81,7.48-85.5-72.14-164.6-158.06-152.71Z"
		/>
		<path
			class="cls-1"
			d="m760.48,712.49h0c9.69,0,17.55,7.86,17.55,17.55v60.88c0,9.69-7.86,17.55-17.55,17.55h0c-9.69,0-17.55-7.86-17.55-17.55v-60.88c0-9.69,7.86-17.55,17.55-17.55Z"
			transform="translate(-315 760.48) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m632.68,851.94c.18.09.36.18.54.28,10.74,5.45,13.04,19.81,4.26,28.05-2.68,2.52-5.47,4.94-8.36,7.25-8.19,6.57-20.31,4.37-25.67-4.66l-.28-.48c-4.46-7.51-2.48-17.01,4.32-22.5,2.01-1.62,3.96-3.32,5.84-5.07,5.23-4.88,12.97-6.13,19.34-2.87Z"
		/>
	</svg>

	<svg
		class="shape-three shape-gray"
		viewBox="0 0 1900 1900"
		width="60"
		height="60"
		xmlns="http://www.w3.org/2000/svg"
	>
		<defs>
			<style>
				.cls-1 {
					fill: rgba(240, 240, 240, 0.5);
					stroke-width: 0px;
				}
			</style>
		</defs>
		<path
			class="cls-1"
			d="m447.32,851.97c-.18.09-.36.18-.54.28-10.74,5.45-13.04,19.81-4.26,28.05,2.68,2.52,5.47,4.94,8.35,7.25,8.19,6.57,20.31,4.37,25.67-4.66l.28-.48c4.46-7.51,2.48-17.01-4.32-22.5-2.01-1.62-3.96-3.32-5.84-5.07-5.23-4.88-12.97-6.13-19.34-2.87Z"
		/>
		<path
			class="cls-1"
			d="m525.29,648.2c1.51,3.93,2.85,7.9,4.04,11.91,1.4,4.72,5.74,7.95,10.67,7.94h0s0,0,0,0c4.92,0,9.26-3.22,10.67-7.94,1.19-4.01,2.54-7.98,4.04-11.9,2.73-7.12-2.3-14.91-9.93-15.16-3.18-.11-6.38-.11-9.56,0-7.63.25-12.67,8.03-9.94,15.16Z"
		/>
		<rect class="cls-1" x="522.45" y="803.82" width="35.1" height="95.97" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m253.87,695.06c-.2-.06-.39-.13-.59-.19-11.59-3.79-23.24,4.98-22.83,17.17.12,3.48.37,6.96.74,10.43,1.14,10.54,11.19,17.74,21.46,15.12l.55-.14c8.47-2.16,13.78-10.28,12.86-18.96-.27-2.57-.46-5.15-.54-7.72-.25-7.15-4.84-13.51-11.65-15.71Z"
		/>
		<path
			class="cls-1"
			d="m851.97,631.64c.09.18.19.36.28.54,5.45,10.74,19.81,13.04,28.05,4.26,2.52-2.68,4.94-5.47,7.25-8.35,6.57-8.19,4.37-20.31-4.66-25.67l-.48-.28c-7.51-4.46-17.01-2.48-22.5,4.32-1.62,2.01-3.32,3.96-5.07,5.84-4.88,5.23-6.13,12.97-2.87,19.34Z"
		/>
		<path
			class="cls-1"
			d="m227.65,447.33c-.09-.18-.19-.36-.28-.54-5.45-10.74-19.81-13.04-28.05-4.26-2.52,2.68-4.94,5.47-7.25,8.35-6.57,8.19-4.37,20.31,4.66,25.67l.48.28c7.51,4.46,17.01,2.48,22.5-4.32,1.62-2.01,3.32-3.96,5.07-5.84,4.88-5.23,6.13-12.97,2.87-19.34Z"
		/>
		<path
			class="cls-1"
			d="m449.91,612.91c-.21.43-.43.85-.65,1.28-3.23,6.29-1.96,13.98,2.91,19.11,66.66,70.16,8.9,189.31-86.93,181.1-8.64-.74-16.55,4.79-18.39,13.26l-.24,1.1c-2.2,10.11,5.11,19.73,15.42,20.54,41.24,3.25,82.94-11.89,112.23-41.48,55.76-54.39,53.98-145.45,3.03-199.25-8.07-8.52-22.12-6.15-27.39,4.33Z"
		/>
		<path
			class="cls-1"
			d="m289.08,742.93h60.88c9.69,0,17.55,7.86,17.55,17.55h0c0,9.69-7.86,17.55-17.55,17.55h-60.88c-9.69,0-17.55-7.86-17.55-17.55h0c0-9.69,7.86-17.55,17.55-17.55Z"
			transform="translate(-444.16 448.68) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m424.82,527.78c-.48.16-.95.31-1.43.47-6.74,2.17-11.28,8.5-11.46,15.57-2.44,96.8-127.55,140.21-189.53,66.64-5.58-6.63-15.09-8.31-22.38-3.62l-.91.58c-8.71,5.6-10.32,17.56-3.6,25.44,11.5,13.49,25.27,24.58,40.9,33.04,94.01,51.82,208.55-19.99,210.83-121.48.27-11.87-11.15-20.39-22.42-16.64Z"
		/>
		<rect class="cls-1" x="180.21" y="522.45" width="95.97" height="35.1" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m384.88,253.88c.07-.21.14-.42.21-.64,3.78-11.57-4.98-23.2-17.15-22.79-3.48.12-6.96.37-10.44.74-10.53,1.14-17.72,11.17-15.1,21.44l.15.59c2.15,8.46,10.26,13.77,18.94,12.84,2.57-.27,5.14-.46,7.7-.54,7.15-.25,13.49-4.84,15.69-11.64Z"
		/>
		<path
			class="cls-1"
			d="m388.31,515.24c30.65-3.04,60.13-16.71,82.67-37.77,8.72-8.15,6.62-22.36-4.05-27.71-.37-.18-.73-.37-1.1-.56-6.3-3.22-13.97-1.95-19.09,2.92-70.15,66.72-189.35,8.97-181.15-86.88.74-8.64-4.79-16.55-13.26-18.39l-1.44-.31c-10.01-2.17-19.57,4.96-20.52,15.16-8.07,85.8,71.77,165.44,157.95,153.54Z"
		/>
		<rect
			class="cls-1"
			x="301.97"
			y="271.53"
			width="35.1"
			height="95.97"
			rx="17.55"
			ry="17.55"
			transform="translate(-132.35 319.52) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m632.68,228.03c.18-.09.36-.18.54-.28,10.74-5.45,13.04-19.81,4.26-28.05-2.68-2.52-5.47-4.94-8.35-7.25-8.19-6.57-20.31-4.37-25.67,4.66l-.28.48c-4.46,7.51-2.48,17.01,4.32,22.5,2.01,1.62,3.96,3.32,5.84,5.07,5.23,4.88,12.98,6.13,19.35,2.87Z"
		/>
		<path
			class="cls-1"
			d="m434.03,284.25s.01,0,.02.01c2.16-11.82,6.36-23.29,12.37-33.69,0,0-.01,0-.02,0,5.99-10.51,13.81-19.93,22.94-27.85,6.72-5.83,8.4-15.57,3.59-23.05l-.21-.32c-5.69-8.85-17.87-10.8-25.97-4.08-72.13,59.88-63.43,185.02,20.01,231.53,20.34,12.29,44.11,19.24,68.03,20.16,12.19.47,20.98-11.26,17.19-22.86-.04-.11-.07-.23-.11-.34-2.23-6.87-8.65-11.5-15.87-11.68-63.08-1.62-115.29-64-101.97-127.82Z"
		/>
		<rect class="cls-1" x="522.45" y="180.21" width="35.1" height="95.98" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m630.06,467.05c.22-.43.43-.86.66-1.29,3.23-6.29,1.96-13.96-2.91-19.08-66.62-70.17-8.85-189.28,86.95-181.07,8.63.74,16.54-4.79,18.38-13.26l.24-1.11c2.19-10.11-5.11-19.72-15.42-20.53-41.24-3.25-82.95,11.89-112.23,41.48-55.75,54.38-53.98,145.42-3.06,199.21,8.07,8.53,22.13,6.15,27.39-4.34Z"
		/>
		<path
			class="cls-1"
			d="m826.13,384.94c.2.06.39.13.59.19,11.59,3.79,23.24-4.98,22.83-17.16-.12-3.48-.36-6.96-.74-10.43-1.14-10.54-11.19-17.74-21.46-15.13l-.55.14c-8.47,2.16-13.78,10.28-12.86,18.96.27,2.57.46,5.15.54,7.72.25,7.15,4.84,13.51,11.65,15.71Z"
		/>
		<path
			class="cls-1"
			d="m730.04,301.97h60.88c9.69,0,17.55,7.86,17.55,17.55h0c0,9.69-7.86,17.55-17.55,17.55h-60.88c-9.69,0-17.55-7.86-17.55-17.55h0c0-9.69,7.86-17.55,17.55-17.55Z"
			transform="translate(-3.19 631.33) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m655.01,552.28c.54-.18,1.08-.36,1.62-.53,6.73-2.16,11.26-8.48,11.44-15.55,2.38-97.05,127.69-140.13,189.56-66.65,5.57,6.62,15.06,8.3,22.34,3.62l.97-.62c8.69-5.59,10.3-17.52,3.6-25.39-11.51-13.51-25.28-24.61-40.93-33.07-93.23-52.09-209.01,20.25-210.96,121.62-.23,11.83,11.15,20.31,22.38,16.56Z"
		/>
		<rect class="cls-1" x="803.82" y="522.45" width="95.97" height="35.1" rx="17.55" ry="17.55" />
		<path
			class="cls-1"
			d="m691.65,564.76c-65.27,5.75-121.15,61.63-126.89,126.9-12.25,88.07,70.69,168.04,157.68,157.54,10.64-1.28,17.77-11.58,15.13-21.97h0c-2.16-8.48-10.21-14.27-18.9-13.23-97.4,11.69-161.15-110.5-88.12-183.47,71.3-71.65,192.1-11.63,183.87,84.22-.75,8.75,5.3,16.65,13.88,18.51h0c10.44,2.27,20.48-5.17,21.41-15.81,7.48-85.5-72.14-164.6-158.06-152.71Z"
		/>
		<path
			class="cls-1"
			d="m760.48,712.49h0c9.69,0,17.55,7.86,17.55,17.55v60.88c0,9.69-7.86,17.55-17.55,17.55h0c-9.69,0-17.55-7.86-17.55-17.55v-60.88c0-9.69,7.86-17.55,17.55-17.55Z"
			transform="translate(-315 760.48) rotate(-45)"
		/>
		<path
			class="cls-1"
			d="m632.68,851.94c.18.09.36.18.54.28,10.74,5.45,13.04,19.81,4.26,28.05-2.68,2.52-5.47,4.94-8.36,7.25-8.19,6.57-20.31,4.37-25.67-4.66l-.28-.48c-4.46-7.51-2.48-17.01,4.32-22.5,2.01-1.62,3.96-3.32,5.84-5.07,5.23-4.88,12.97-6.13,19.34-2.87Z"
		/>
	</svg>
</div>

<style>
	.shapes-container {
		position: absolute;
		width: 100%;
		height: 100%;
		overflow: hidden;
	}

	.shape {
		transition: all 0.5s ease-out;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}
	.shape-two {
		transition: all 0.5s ease-out;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}
	.shape-three {
		transition: all 0.6s ease-out;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}

	/* Desktop: Figuras más centradas */
	@media (min-width: 768px) {
		.shape {
			right: 20%;
			left: auto;
			width: 180px;
			height: 230px;
		}
		.shape-two {
			right: 10%;
			left: auto;
			width: 150px;
			height: 200px;
		}
		.shape-three {
			right: 3%;
			left: auto;
			width: 120px;
			height: 150px;
		}
	}

	/* Mobile: Figuras centradas con movimientos suaves */
	@media (max-width: 767px) {
		.shape {
			display: none;
		}
		.shape-two {
			left: 50%;
			top: 8%;
			transform: translateX(-50%) translateY(-50%);
			width: 100px;
			height: 140px;
		}
		.shape-three {
			left: 20%;
			top: 70%;
			transform: translateX(-50%) translateY(-50%);
			width: 140px;
			height: 180px;
		}
	}
</style>
